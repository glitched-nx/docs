# Prompts und Befehle

<p className="subtitle">Erfahre, wie Prompts und Befehle deinen Workflow starten können.</p>

## Prompts

<Callout type="note">Prompts und die Prompt-Library sind derzeit in Codys VS Code-Erweiterung und der Sourcegraph-Web-UI verfügbar.</Callout>

Neben diesen einsatzbereiten Befehlen kannst du deine eigenen Prompts über die **Prompt-Library** in der Sourcegraph-Web-UI erstellen. Hier kannst du Prompts einfach erstellen, bearbeiten, teilen und entdecken, die du erstellt hast oder die innerhalb deiner Organisation geteilt wurden.

## Prompt-Library

Auf die Prompt-Library kannst du über **Tools > Prompt-Library** in der oberen Navigationsleiste der Sourcegraph-Web-UI zugreifen. Hier kannst du einen Prompt anzeigen, erstellen oder bearbeiten. Du kannst auch nach Prompts suchen, die Liste filtern, um einen bestimmten Prompt nach Besitzer zu finden, und nach Name oder kürzlich aktualisiert sortieren.

![prompt-library-overview](https://storage.googleapis.com/sourcegraph-assets/Docs/prompt-library-overview-0824.png)

### Erstellen und Bearbeiten eines Prompts

Klicke auf der Seite **Prompt-Library** auf die Schaltfläche **Neuer Prompt**, um einen neuen Prompt zu erstellen.

- Wähle den **Besitzer** und den **Namen** des Prompts aus
- Schreibe dann eine Prompt-Beschreibung
- Und fülle schließlich das Feld **Prompt-Vorlage** mit allen deinen Prompt-Anweisungen aus
- Außerdem kannst du deinen Prompt als **Entwurf** markieren. Dies würde verhindern, dass er für andere Benutzer verfügbar ist
- Klicke abschließend auf die Schaltfläche **Prompt erstellen**

Durch das Abschließen dieses Prozesses wird Folgendes erreicht:

- Der neue Prompt wird der Seite **Prompt-Library** hinzugefügt
- Wenn es sich nicht um einen Entwurf handelt, wird er anderen Benutzern in deiner Organisation zur Verfügung stehen
- Der Prompt wird über deine verbundene Sourcegraph-Instanz in Codys VS Code-Erweiterung und der Sourcegraph-Web-UI angezeigt

![prompts-in-vscode](https://storage.googleapis.com/sourcegraph-assets/Docs/prompts-ui-vscode-082024.png)

Um einen Prompt zu bearbeiten, klicke auf die Schaltfläche Bearbeiten neben dem Prompt in der Prompt-Library und nimm die erforderlichen Änderungen vor. Du kannst diese Oberfläche auch verwenden, um die **Eigentümerschaft zu übertragen** oder den Prompt aus dieser Ansicht zu löschen.

# Prompts und Befehle

<p className="subtitle">Erfahre, wie Prompts und Befehle deinen Workflow starten können.</p>

## Prompts

<Callout type="note">Prompts und die Prompt-Library sind derzeit in Codys VS Code-Erweiterung und der Sourcegraph-Weboberfläche verfügbar.</Callout>

Neben diesen einsatzbereiten Befehlen kannst du deine eigenen Prompts über die **Prompt-Library** in der Sourcegraph-Weboberfläche erstellen. Hier kannst du Prompts einfach erstellen, bearbeiten, teilen und entdecken, die du erstellt hast oder die innerhalb deiner Organisation geteilt wurden.

## Prompt-Library

Die Prompt-Library kann über **Tools > Prompt-Library** in der oberen Navigationsleiste der Sourcegraph-Weboberfläche aufgerufen werden. Hier kannst du Prompts anzeigen, erstellen oder bearbeiten. Du kannst auch nach Prompts suchen, die Liste nach Besitzer filtern und nach Name oder kürzlich aktualisiert sortieren.

![prompt-library-overview](https://storage.googleapis.com/sourcegraph-assets/Docs/prompt-library-overview-0824.png)

### Erstellen und Bearbeiten eines Prompts

Klicke auf der Seite **Prompt-Library** auf die Schaltfläche **Neuer Prompt**, um einen neuen Prompt zu erstellen.

- Wähle den **Besitzer** und den **Namen** des Prompts aus
- Schreibe dann eine Prompt-Beschreibung
- Und fülle schließlich das Feld **Prompt-Vorlage** mit allen deinen Prompt-Anweisungen aus
- Außerdem kannst du deinen Prompt als **Entwurf** markieren. Dies würde verhindern, dass er für andere Benutzer verfügbar ist
- Klicke abschließend auf die Schaltfläche **Prompt erstellen**

Durch das Abschließen dieses Prozesses wird Folgendes erreicht:

- Der neue Prompt wird der Seite **Prompt-Library** hinzugefügt
- Wenn es sich nicht um einen Entwurf handelt, wird er anderen Benutzern in deiner Organisation zur Verfügung stehen
- Der Prompt wird über deine verbundene Sourcegraph-Instanz in Codys VS Code-Erweiterung und der Sourcegraph-Weboberfläche angezeigt

![prompts-in-vscode](https://storage.googleapis.com/sourcegraph-assets/Docs/prompts-ui-vscode-082024.png)

Um einen Prompt zu bearbeiten, klicke auf die Schaltfläche Bearbeiten neben dem Prompt in der Prompt-Library und nimm die erforderlichen Änderungen vor. Über diese Oberfläche kannst du auch die **Eigentümerschaft übertragen** oder den Prompt aus dieser Ansicht löschen.

### Prompts verwenden

Prompts funktionieren genauso wie Befehle. Im Chatfenster von Cody gibt es neben dem LLM-Auswahlmenü ein Dropdown-Menü namens **Prompts**. Verwende dieses, um einen Prompt auszuwählen und auf deinem Code auszuführen.

![prompts-in-dropdown](https://storage.googleapis.com/sourcegraph-assets/Docs/using-prompts.png)

## Befehle

Cody bietet schnelle, einsatzbereite **Befehle** für gängige Aktionen zum Schreiben, Beschreiben, Reparieren und Überprüfen von Code. Diese ermöglichen es dir, vordefinierte Aktionen mit intelligenter Kontextsuche überall im Editor auszuführen. Wie Autocomplete und Chat durchsuchen Befehle deinen Code, um kontextbezogene und informierte Antworten zu liefern.

Befehle sind in VS Code, JetBrains und der Sourcegraph-Web-App verfügbar. Befehle können Aufgaben wie:

- Bearbeiten und Reparieren von Code `edit`
- Erklären von Code `explain`
- Generieren von Unit-Tests `test`
- Schreiben von Dokumentationen `doc`
- Verbessern der Codequalität `smell`

Die Unterstützung für Befehle kann je nach IDE-Erweiterung variieren. Lies die [Feature-Paritätsreferenz, um zu erfahren, welche Befehle in deiner IDE verfügbar sind](/cody/clients/feature-reference#commands).

<Callout type="note">Codys Antworten auf Befehle sind oft besser als Antworten im Chat, da sie vorgefertigt und prompt-engineered sind.</Callout>

## Ausführen von Befehlen

Der Prozess zum Ausführen eines Befehls variiert je nach IDE. Zum Beispiel gibt es in VS Code mehrere Möglichkeiten, einen Befehl auszuführen:

1. Wähle Code im Editor aus und benutze die Cody-Befehlsleiste, um einen Befehl auszuführen:

<video width="1920" height="1080" loop playsInline controls style={{ width: '100%', height: 'auto' }}>
	<source src="https://storage.googleapis.com/sourcegraph-assets/Docs/Media/code-comments-cody-0724.mp4" type="video/mp4" />
	</video>

2. Führe **Cody: Commands** in der VS Code-Befehlsleiste aus.
3. Klicke mit der rechten Maustaste im Editor und wähle einen Befehl im **Cody**-Untermenü aus.

## Benutzerdefinierte Befehle

<Callout type="info">Benutzerdefinierte Befehle sind derzeit in der Beta-Phase und nur in VS Code unterstützt.</Callout>

**Benutzerdefinierte Befehle** ermöglichen es dir, wiederverwendbare [Prompts](#prompts) für Cody zu erstellen und zu definieren, die auf deine Entwicklungs-Workflows zugeschnitten sind. Sie werden im `JSON`-Format definiert und ermöglichen es dir, CLI-Tools aufzurufen, benutzerdefinierte Prompts zu schreiben und den Kontext auszuwählen, der an Cody gesendet werden soll. Dies bietet eine flexible Möglichkeit, Cody für folgende Anwendungsfälle zu konfigurieren:

- Integration mit deinem Build-System, um Korrekturen für Fehler/Warnungen im neuesten Build vorzuschlagen
- Analyse der Ausgaben von Software-Abhängigkeiten, um Kompatibilität zu erklären oder Upgrades vorzuschlagen
- Lesen von Testbefehlsfehlern, um Erklärungen und Korrekturvorschläge zu liefern
- Erklärung von Code-Qualitätsausgaben wie Linter-Warnungen

### Erstellen eines benutzerdefinierten Befehls

Du kannst einen benutzerdefinierten Befehl erstellen, indem du die Konfigurations-JSON-Datei bearbeitest oder den Befehls-Builder im VS Code-Editor verwendest. So greifst du auf den Befehls-Builder in VS Code zu:

- Öffne das Cody-Befehlsmenü (**Cody: Commands** im Befehls-Palette)
- Wähle **Custom commands > New Custom Command**
- Gib den Namen für deinen neuen benutzerdefinierten Befehl ein, z. B. `my-custom-command`.
- Schreibe als Nächstes eine Beschreibung für den Befehl. Zum Beispiel `Compare files in open tabs` oder `Explain current directory`
- Gib die relevanten Anweisungen für Cody ein. Dies ist das `prompt`, das Cody verwenden wird, um den relevanten Kontext an das LLM zu übergeben
- Wähle dann eine oder mehrere Optionen für den Kontext, den Cody verwenden soll, um Antworten zu generieren
- Wähle abschließend, ob du den Befehl lokal speichern oder mit deinem Workspace teilen möchtest
- Drücke **Enter**, um den Vorgang abzuschließen, und dein benutzerdefinierter Befehl wird erfolgreich erstellt
- Du kannst jederzeit die `esc`-Taste drücken, um einen neuen benutzerdefinierten Befehl zu verwerfen

### Ausführen benutzerdefinierter Befehle

Du kannst benutzerdefinierte Befehle auf zwei Arten aufrufen.

- Führe **Cody Command: Custom Commands** im VS Code-Befehls-Palette aus.
- Klicke mit der rechten Maustaste im Editor und wähle **Cody > Custom Commands**.

Wähle dann den Befehl aus, den du ausführen möchtest. Wenn dein benutzerdefinierter Befehl eine Codeauswahl erwartet, stelle sicher, dass du Code im Editor auswählst, bevor du den benutzerdefinierten Befehl ausführst.

### Konfigurieren von Dateipfaden

Benutzerdefinierte Befehle können in den folgenden zwei Dateipfaden definiert werden:

- **Benutzereinstellungen (`~/.vscode/cody.json`)**: Lokal gespeichert. Verwende dies für persönliche Befehle, die du in all deinen Projekten verwenden möchtest
- **Workspace-Einstellungen (`.vscode/cody.json`)**: In deinem Projekt-Repository gespeichert. Verwende dies, um Befehle mit anderen zu teilen, die am selben Codebase arbeiten, und für projektspezifische Befehle

Wenn du **Benutzereinstellungen** wählst, ist der neue benutzerdefinierte Befehl nur für dich verfügbar. Wenn du **Workspace-Einstellungen** wählst (als Enterprise-Benutzer), ist der benutzerdefinierte Befehl auch für deine Teamkollegen verfügbar.


Siehe die [Beispiele](#examples) und [Konfigurationseigenschaften](#configuration-properties) unten für weitere Details zur Konfiguration benutzerdefinierter Befehle.

<Accordion title="Custom Commands Examples">

### `commit-message`

```json
{
  "commit-message": {
    "description": "Commit message for current changes",
    "prompt": "Suggest an informative commit message by summarizing code changes from the shared command output. The commit message should follow the conventional commit format and provide meaningful context for future readers.",
    "context": {
      "selection": false,
      "command": "git diff --cached"
    }
  }
}
```

### `compare-tabs`

```json
{
  "compare-tabs": {
    "description": "Compare files in opened tabs",
    "prompt": "Examine the shared code snippets from my opened tabs. Then explain the relationship between the code samples by answering these questions: 1. What are the main tasks or functions the code is performing? 2. Are there any similarities in functions or logic across the samples? 3. Does one code snippet call or import another? If so, how do they interact? 4. Are there any notable differences in how they approach similar problems? 5. Overall, how are the code snippets related - do they work together as part of a larger program, solve variants of the same problem, or serve entirely different purposes?",
    "context": {
      "openTabs": true,
      "selection": false
    }
  }
}
```

### `current-dir`

```json
{
  "current-dir": {
    "description": "Explain current directory",
    "prompt": "At a high level, explain what this directory is used for.",
    "context": {
      "currentDir": true,
      "selection": false
    }
  }
}
```

### `latest-cody-release`

```json
{
  "latest-cody-release": {
    "description": "Summarize latest Cody release",
    "prompt": "What is the latest stable version of Cody? Briefly summarize the changes that were included in that release based on this CHANGELOG excerpt.",
    "context": {
      "selection": false,
      "command": "curl https://raw.githubusercontent.com/sourcegraph/cody/main/vscode/CHANGELOG.md | head -n 50"
    }
  }
}
```

### `readme`

```json
{
  "readme": {
    "description": "Readme for current dir",
    "prompt": "Write a detailed README.md file to document the code located in the same directory as my current selection. Summarize what the code in this directory is meant to accomplish. Explain the key files, functions, classes, and features. Use Markdown formatting for headings, code blocks, lists, etc. to make the it organized and readable. Aim for a beginner-friendly explanation that gives a developer unfamiliar with the code a good starting point to understand it. Make sure to include: - Overview of directory purpose - Functionality explanations - Relevant diagrams or visuals if helpful. Write the README content clearly and concisely using complete sentences and paragraphs based on the shared context. Use proper spelling, grammar, and punctuation throughout. Surround your full README text with triple backticks so it renders properly as a code block. Do not make assumptions or fabricating additional details.",
    "context": {
      "currentDir": true,
      "selection": true
    }
  }
}
```

### `recent-git-changes`

```json
{
  "recent-git-changes": {
    "description": "Summarize recent changes",
    "prompt": "Summarize the given git changes in 3-5 sentences",
    "context": {
      "command": "git log -10 --pretty=format:'%h - %an: %s' --stat",
      "selection": false
    }
  }
}
```

</Accordion>

<Accordion title="Konfigurationseigenschaften">

#### `commands` (erforderlich)

- Ein Objekt, das die Befehle enthält
- Typ: `object`
- Beispiel: `{ "commands": {} }`

#### `commands.<id>` (erforderlich)

- Der Slash-Name, der für den Befehl verwendet wird
- Typ: `string`
- Beispiel: `"summarize"`

#### `commands.<id>.description`

- Eine kurze, satzweise Beschreibung dessen, was der Befehl tut
- Typ: `string`
- Beispiel: `"Zusammenfassung der letzten Git-Änderungen"`

#### `commands.<id>.prompt` (erforderlich)

- Die Anweisungen für Cody
- Typ: `string`
- Beispiel: `"Fasse die angegebenen Git-Änderungen in 3-5 Sätzen zusammen"`

#### `commands.<id>.mode`

- Der zu verwendende Interaktionsmodus
- Typ: `string`
- Standard: `"ask"`

  Werte:
  - `"ask"` — Starte eine neue Chat-Sitzung mit dem Befehl
  - `"edit"` — Ersetze den ausgewählten Code durch die Antwort
  - `"insert"` — Füge die Antwort über dem ausgewählten Code ein

#### `commands.<id>.context`

- Optionale Kontextdaten, die generiert und an Cody übergeben werden sollen
- Typ: `object`
- Standard: `{}`

#### `commands.<id>.context.codebase`

<Callout type="note">Diese Option ist experimentell und könnte in Zukunft geändert oder entfernt werden.</Callout>

- Kontextinformationen aus der Codesuche basierend auf dem Prompt des Befehls einbeziehen
- Typ: `boolean`
- Standard: `false`

#### `commands.<id>.context.command`

- Terminalbefehl, der ausgeführt und dessen Ausgabe einbezogen werden soll
- Typ: `string`
- Standard: `""`
- Beispiel: ` "git log --since=$(git describe --tags --abbrev=0) --pretty='Commit author: %an%nCommit message: %s%nChange description:%b%n'"`

#### `commands.<id>.context.currentDir`

- Schnipsel aus den ersten 10 Dateien im aktuellen Verzeichnis einbeziehen
- Typ: `boolean`
- Standard: `false`

#### `commands.<id>.context.currentFile`

- Schnipsel aus der aktuellen Datei einbeziehen. Wenn die Datei zu lang ist, wird nur der Inhalt um die aktuelle Auswahl herum einbezogen
- Typ: `boolean`
- Standard: `false`

#### `commands.<id>.context.directoryPath`

- Schnipsel aus den ersten fünf Dateien innerhalb des angegebenen relativen Pfads des Verzeichnisses einbeziehen. Der Inhalt wird begrenzt und gemäß dem Token-Limit abgeschnitten
- Typ: `string`
- Standard: `""`
- Beispiel: `"lib/common"`

#### `commands.<id>.context.filePath`

- Schnipsel aus dem angegebenen Dateipfad relativ zum aktuellen Arbeitsbereich einbeziehen. Wenn die Datei zu lang ist, wird der Inhalt abgeschnitten
- Typ: `string`
- Standard: `""`
- Beispiel: `"CHANGELOG.md", "test/unit/example.test.ts"`

#### `commands.<id>.context.none`

- Nur den Prompt bereitstellen und keinen zusätzlichen Kontext. Wenn `true`, werden alle anderen Kontexteinstellungen überschrieben
- Typ: `boolean`
- Standard: `false`

#### `commands.<id>.context.openTabs`

- Den Textinhalt der geöffneten Editor-Tabs einbeziehen
- Typ: `boolean`
- Standard: `false`

#### `commands.<id>.context.selection`

- Aktuell ausgewählten Code einbeziehen. Wenn nicht angegeben, versucht Cody, sichtbaren Inhalt aus der aktuellen Datei zu verwenden
- Typ: `boolean`
- Standard: `false`


{/* <!-- ### Definition von Befehlen in der `cody.json` Datei

Du kannst benutzerdefinierte Befehle für Cody in der `cody.json` Datei definieren. Um Befehle nur für ein bestimmtes Projekt verfügbar zu machen, erstelle die `cody.json` Datei im `.vscode` Verzeichnis dieses Projekts. Wenn du an diesem Projekt arbeitest, sind diese arbeitsbereichsspezifischen benutzerdefinierten Befehle verfügbar.

Um benutzerdefinierte Befehle global über mehrere Projekte hinweg verfügbar zu machen, erstelle eine neue `cody.json` Datei im `.vscode` Ordner deines Home-Verzeichnisses. Diese globalen benutzerdefinierten Befehle sind in Cody in jedem Arbeitsbereich verfügbar. --> */}

</Accordion>

<Callout type="note">Befehle und benutzerdefinierte Befehle werden in naher Zukunft durch [Prompts](#prompts) und [Prompt Library](#prompt-library) ersetzt.</Callout>
